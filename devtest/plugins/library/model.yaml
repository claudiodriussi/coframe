---

tables:

  User:

    columns:
      - name: is_student
        title: "Student"
        type: Boolean

  Review:
    name: reviews
    tags: [journal]
    mixins: [TimeStamp]
    columns:
      - name: id
        type: ID

      - name: rating
        type: Integer

      - name: comment
        type: Text

      - name: user_id
        type: User.id

      - name: book_id
        type: Book.id

  Loan:
    name: loans
    tags: [journal]
    mixins: [TimeStamp]
    columns:
      - name: id
        type: ID

      - name: borrowed_at
        type: DateTime
        default: datetime.now
        nullable: false

      - name: due_date
        type: DateTime
        nullable: false

      - name: returned_at
        type: DateTime
        nullable: true

      - name: user_id
        type: User.id

      - name: book_id
        type: Book.id
